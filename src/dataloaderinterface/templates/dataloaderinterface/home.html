{% extends 'dataloaderinterface/base.html' %}
{% load static %}

{% block styles %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'dataloaderinterface/css/home_page.css' %}">
{% endblock %}

{% block page_title %}
    <title>Monitor My Watershed</title>
{% endblock %}

{% block home_page_banner %}
    <div id="banner">
        <div class="parallax-window" data-parallax="scroll"
             {% if user.is_authenticated %}style="height: 400px;"{% endif %}
             data-image-src="{% static "dataloaderinterface/images/background-leafpack-2.jpg" %}"
             id="banner-image-container">
            <div class="legend-container" {% if user.is_authenticated %}style="height: 400px;"{% endif %}>
                <div class="row logos-row">
                    <div class="col-4 col-sm-3 offset-sm-2">
                        <a href="/#EnviroDIY">
                            <img class="img-fluid" src="{% static "dataloaderinterface/images/envirodiy_logo.png" %}" alt="EnviroDIY Logo">
                        </a>
                    </div>
                    <div class="col-4 col-sm-3">
                        <a href="/#LeafPack">
                            <img class="img-fluid"
                            src="{% static "dataloaderinterface/images/Leaf-Pack-Network-logo_horiz.png" %}"
                            alt="Leaf Pack Network Logo">
                        </a>
                    </div>
                    <div class="col-4 col-sm-3">
                        <a href="/#StreamWatch">
                            <img class="img-fluid"
                            src="{% static "dataloaderinterface/images/SWSchools_NO_TWI_logo.png" %}"
                            alt="StreamWatch Schools Logo"
                            style="max-height:96px;"
                            >
                        </a>
                    </div>
                </div>
                <div class="banner-legend text-center">
                    <h2 class="text-center">Data Sharing Portal </h2>
                    <h4 class="text-center">Contribute your water-quality data</h4>

                    {% if not user.is_authenticated %}
                        <h4 class="text-center">Ready to start sharing your data?</h4>
                        <h4 class="text-center">
                            <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect"
                               href="{% url 'user_registration' %}">SIGN UP</a>
                        </h4>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="container-fluid content-section">
        <div class="container shadow" id="how-it-works-section">
            <a id="EnviroDIY"></a>
            <div class="row">
                <section class="col-sm-12">
                    <div class="text-center section-title">How It Works</div>
                    <p class="lead text-center">Monitor My Watershed supports multiple types of water-quality data.</p>
                    <br><br>
                    <div class="row">
                        <div class="col-sm-8 offset-sm-2 col-md-4 offset-md-2 col-8 offset-2">
                            <br><br>
                            <span class="img-row">
                                <img class="img-fluid"
                                     src="{% static 'dataloaderinterface/images/envirodiy_logo.png' %}"
                                     alt="Data Sharing Portal">
                            </span>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <div class="mdl-card card-border-left" style="min-height: initial;">
                                <div class="mdl-card__title">
                                    Share and Explore Sensor Datasets
                                </div>

                                <div class="mdl-card__supporting-text">
                                    <p class="lead"><a href="https://www.envirodiy.org/" target="_blank">EnviroDIY</a>
                                        is a community of enthusiasts sharing do-it-yourself ideas for environmental
                                        science and monitoring.</p>
                                </div>
                            </div>
                            <br><br><br>
                        </div>
                        <div class="col-sm-12 col-lg-8 offset-lg-2">
                            <div class="row text-center">
                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">1</h3>
                                        <i class="fa fa-laptop step-icon bg-dark-teal" aria-hidden="true"></i>
                                        {% if user.is_authenticated %}
                                            <h4><a href="{% url 'site_registration' %}">Register</a>
                                        {% else %}
                                            <h4><a href="{% url 'login' %}">Register</a>
                                        {% endif %}
                                        your compatible data logger and your sensors.</h4>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">2</h3>
                                        <i class="material-icons step-icon bg-dark-teal">settings_remote</i>
                                        <h4>Deploy your data logger and start collecting data.</h4>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">3</h3>
                                        <i class="fa fa-cloud-upload step-icon bg-dark-teal" aria-hidden="true"></i>
                                        <h4>Stream your data continuously and <a
                                                href="{% url 'browse_sites' %}">view your results</a> online.</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                    <a id="LeafPack"></a>
                    <br><br><br>
                    <div class="row">
                        <div class="col-sm-8 offset-sm-2 col-md-4 offset-md-2 col-8 offset-2">
                            <br><br>
                            <span class="img-row">
                                <img class="img-fluid"
                                     src="{% static 'dataloaderinterface/images/Leaf-Pack-Network-logo-horiz-black.png' %}"
                                     alt="Leaf Pack Network logo">
                            </span>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <div class="mdl-card card-border-left" style="min-height: initial;">
                                <div class="mdl-card__title">
                                    Share and Explore Macroinvertebrate Datasets
                                </div>
                                <div class="mdl-card__supporting-text">
                                    <p class="lead"><a href="https://leafpacknetwork.org/" target="_blank">The Leaf Pack
                                        Network</a> is an international network of teachers,
                                        students, and citizen monitors investigating their local stream ecosystems.</p>
                                </div>
                            </div>
                            <br><br><br>
                        </div>
                        <div class="col-sm-12 col-lg-8 offset-lg-2">
                            <div class="row text-center">
                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">1</h3>
                                        <i class="fa fa-leaf step-icon bg-dark-teal" aria-hidden="true"></i>
                                        <h4>Conduct your <a href="https://www.leafpacknetwork.org/resources/manual/"
                                                            target="_blank">Leaf Pack experiment</a>.</h4>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">2</h3>
                                        <i class="fa fa-laptop step-icon bg-dark-teal" aria-hidden="true"></i>
                                        {% if user.is_authenticated %}
                                            <h4><a href="{% url 'site_registration' %}">Register</a>
                                        {% else %}
                                            <h4><a href="{% url 'login' %}">Register</a>
                                        {% endif %}
                                            your location and enter your data.</h4>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">3</h3>
                                        <i class="fa fa-map step-icon bg-dark-teal" aria-hidden="true"></i>
                                        <h4><a href="{% url 'browse_sites' %}">Explore</a> your data and those contributed by others.</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <a id="StreamWatch"></a>
                    <br><br><br>
                    <div class="row">
                        <div class="col-sm-8 offset-sm-2 col-md-4 offset-md-2 col-8 offset-2">
                            <br><br>
                            <span class="img-row">
                                <a href="https://thewatershed.org/streamwatch_schools/">
                                    <img class="img-fluid"
                                    src="{% static "dataloaderinterface/images/SWSchools_NO_TWI_logo.png" %}"
                                    alt="Watershed Institute logo">
                                </a>
                            </span>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <div class="mdl-card card-border-left" style="min-height: initial;">
                                <div class="mdl-card__title">
                                    Share and Explore StreamWatch Schools Datasets
                                </div>
                                <div class="mdl-card__supporting-text">
                                    <p class="lead">
                                        StreamWatch Schools, a program of <a href="https://thewatershed.org">The Watershed Institute</a>, engages students in water quality monitoring, data collection and data analysis.
                                    </p>
                                </div>
                            </div>
                            <br><br><br>
                        </div>
                        <div class="col-sm-12 col-lg-8 offset-lg-2">
                            <div class="row text-center">
                            
                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">1</h3>
                                        <i class="fa fa-laptop step-icon bg-dark-teal" aria-hidden="true"></i>
                                        <h4>
                                        {% if not user.is_authenticated %}
                                            First 
                                            <a href="{% url 'login' %}">Log In</a> or <a href="{% url 'user_registration' %}">Sign Up</a>.
                                        {% else %}
                                            <a href="{% url 'site_registration' %}">Register</a> a StreamWatch Schools site
                                            or find your <a href="{% url 'sites_list' %}">sites</a>.
                                        {% endif %}
                                        </h4>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">2</h3>
                                        <i class="fa fa-search step-icon bg-dark-teal" aria-hidden="true"></i>
                                        <h4>Conduct your <a href="https://thewatershed.org/sws-field-methods-and-data-sheets/"
                                                            target="_blank">StreamWatch Schools Assessment</a> and collect your data.</h4>
                                    </div>
                                </div>
                                        
                                <div class="col-sm-12 col-md-4 text-center row-eq-height">
                                    <div class="card">
                                        <h3 class="step-number bg-light-teal">3</h3>
                                        <i class="fa fa-map step-icon bg-dark-teal" aria-hidden="true"></i>
                                        <h4><a href="/browse/?dataTypes=StreamWatch Schools">Explore</a> your data and those contributed by others.</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div class="container-fluid content-section">
        <div class="container shadow" id="companion-section">
            <div class="col-sm-12">
                <div class="text-center section-title">Explore the WikiWatershed Toolkit</div>
                <br><br>

                <div class="row text-center">
                    <div class="col"></div>
                    <div class="col-sm-12 col-lg-6 row-eq-height">
                        <div class="card">
                            <div class="explore-image-container">
                                <img class="card-header-image" style="max-width: 350px;"
                                     src="{% static 'dataloaderinterface/images/WikiWatershed_logo_white.png' %}"
                                     alt="WikiWatershed logo">
                            </div>
                            <h4 class="text-left" style="margin-bottom: 60px;">
                                Monitor My Watershed® supports data capture and visualization functions for <a
                                    href="https://www.envirodiy.org/" target="_blank">EnviroDIY</a>
                                and <a href="https://www.leafpacknetwork.org/" target="_blank">Leaf Pack Network</a>
                                communities, which are part of <a href="https://wikiwatershed.org/" target="_blank">WikiWatershed</a>®.
                                <br><br>
                                The WikiWatershed toolkit includes:
                                <ul class="toolkit-list">
                                    <li><a href="https://wikiwatershed.org/model/" target="_blank">Model My Watershed</a>®, a web app that lets you analyze geospatial data, model
                                        storms, and compare conservation or development scenarios in a watershed.
                                    </li>
                                    <li>A <a href="https://wikiwatershed.org/model/" target="_blank">Runoff Simulation</a> that shows how land use and soil together determine whether
                                        rainfall infiltrates into the soil, runs off into streams, or is evaporated and
                                        transpired by plants.
                                    </li>
                                    <li>
                                        <a href="https://www.envirodiy.org/" target="_blank">EnviroDIY</a>, a community of do-it-yourself enthusiasts sharing open-source ideas for environmental science and monitoring.
                                    </li>
                                    <li>
                                        <a href="https://www.leafpacknetwork.org/" target="_blank">Leaf Pack Network</a>, an international network of teachers, students, and citizen monitors investigating their local stream ecosystems.
                                    </li>
                                    <li>
                                        The <a href="https://wikiwatershed.org/water-quality-app/" target="_blank">Water
                                        Quality mobile app</a> for recording water-monitoring data and enhancing
                                        learning activities for students and citizen scientists. Available for Apple and
                                        Android devices.
                                    </li>
                                </ul>
                            </h4>

                            <h4 class="visit-link text-left">
                                <a href="https://wikiwatershed.org/" target="_blank">
                                VISIT SITE <i class="material-icons center-icon">chevron_right</i></a>
                            </h4>
                        </div>
                    </div>
                    <div class="col"></div>
                </div>
            </div>
        </div>
    </div>

    {% if not user.is_authenticated %}
        <div class="container-fluid section-gray content-section">
            <div class="col-sm-12">
                <section class="col-sm-12 text-center">
                    <h3>Ready to join?</h3>
                    <h5>Create an account for free.</h5>
                    <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect"
                       href="{% url 'user_registration' %}">SIGN UP</a>
                </section>
            </div>
        </div>
    {% endif %}

{% endblock %}

{% block popups %}
    <div id="subscription-dialog" class="popup">
        <p>
            Stroud Water Research Center is implementing a subscription plan for EnviroDIY 
            and other streaming data to Monitor My Watershed. These changes do not apply 
            to Leaf Pack or StreamWatch Schools data.
        </p>
        <p>
            <strong>Why are you asking me to pay?</strong><br>
             Subscriptions will cover Monitor My Watershed operating expenses, allowing us to fundraise for new features and enhanced functionality.
        </p>
        <p>
            <strong>How much will subscriptions cost?</strong>
            <ul>
                <li>$0 for one active site (active sites are those updated within the past 2 weeks; inactive sites are red on Monitor My Watershed).</li>
                <li>$14/month (or $98 for an annual plan) for two or three active sites.</li>
                <li>$100/month for four to 15 active sites. </li>
                <li>$400/month for 16 to 60 active sites.</li>
            </ul>
            <p>Each tier has a monthly data point limit that accommodates posting data from up to five parameters per site every 15 minutes.</p>
        </p>
            
        <p>
            <strong>Are you making money from subscriptions?</strong><br>
            No. 100% of subscription funds will pay for Monitor My Watershed operating expenses.
        </p>
        <p>
            <strong>Will my data be deleted if I choose not to pay?</strong><br>
            No. Your historical data will continue to be accessible.
        </p>
        <p>
            <strong>Do I have to pay if I'm collecting data for an organization?</strong><br>
            Only if you are the organization's primary contact. 
            We are working with all organizations to establish a primary contact and authorized users list.
        </p>
        <p>
            <strong>When do I have to start paying?</strong><br>
            Subscription plan payments will be accepted starting January 1, 2024. 
            We understand that some users may need additional time to budget 
            for this expense, so users may elect to defer payment up until April 30, 2024.
        </p>
        <p>
            <strong>How will I pay for my subscription?</strong><br>
            Click [button] on MonitorMyWatershed.org to be taken to this 
            payment page on EnviroDIY.org. You can make a credit or debit card payment 
            via Paypal (but you don't need a PayPal account to pay).
        </p>
        <p>
            <strong>What if I need help using Monitor My Watershed?</strong><br>
            We will continue to provide updates and technical support 
            in the Monitor My Watershed forum on EnviroDIY.
        </p>
        <p>
            <strong>Still have questions?</strong><br>
            Please read this forum post.
        </p>
    </div>
{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="{% static 'dataloaderinterface/js/vendor/parallax.min.js' %}"></script>
    <script type="text/javascript">
        function TogglePlotVisibility(id) {
            var plot_id = "#plot_preview_".concat(id);
            if (!$(plot_id).is(":visible")) {
                $(plot_id).show();
            } else {
                $(plot_id).hide();
            }
        }
    </script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="{% static 'dataloaderinterface/js/index.js' %}"></script>

{% endblock %}
